(function(t){function e(e){for(var n,a,o=e[0],l=e[1],c=e[2],d=0,u=[];d<o.length;d++)a=o[d],s[a]&&u.push(s[a][0]),s[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);h&&h(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var l=r[o];0!==s[l]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},s={app:0},i=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/vue-games/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var h=l;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("64a9"),s=r.n(n);s.a},"3a9e":function(t,e,r){"use strict";var n=r("a8ec"),s=r.n(n);s.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("b-container",[r("h2",[t._v("Vue Games")]),r("p",{staticClass:"text-left m-4"},[t._v("Different word games mades as separated components to be reused.\nThis npm package allows you to include this components in your vue application.")]),r("b-card",{attrs:{"no-body":""}},[r("b-tabs",{attrs:{card:""}},[r("b-tab",{attrs:{title:"Hangman",active:""}},[r("hangman-game")],1),r("b-tab",{attrs:{title:"Crossword"}},[r("crossword-game")],1)],1)],1)],1)],1)},i=[],a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"hangman"}},[r("b-row",{attrs:{"align-h":"center"}},[t.showPlayAgain?r("b-button",{staticClass:"m-3",attrs:{size:"sm"},on:{click:t.playAgain}},[t._v("\n      Play Again\n    ")]):t._e()],1),t._m(0),r("div",{attrs:{id:"word"}},t._l(t.wordDivs,function(e,n){return r("div",{key:n,staticClass:"word-blankletter"},[t._v("\n        "+t._s(e)+"\n      ")])}),0),r("div",{attrs:{id:"keyboard"}},t._l(t.letters,function(e,n){return r("div",{key:n,staticClass:"keyboard-row"},t._l(e,function(e){return r("letter-button",{key:e,attrs:{letter:e,"game-over":t.gameOver,"two-players":t.twoPlayers},on:{check:function(r){return t.check(e)}}})}),1)}),0)],1)},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"board"}},[r("canvas",{attrs:{id:"board-canvas"}})])}],l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"keyboard-row-letter",attrs:{id:t.letter,disabled:t.disabled},on:{click:function(e){return t.clicked()}}},[t._v("\n  "+t._s(t.letter)+"\n")])},c=[],h={props:["letter","gameOver","twoPlayers"],data:function(){return{disabled:!1}},methods:{clicked:function(){this.disabled=!0,this.$emit("check")}},watch:{gameOver:function(t){this.disabled=t}}},d=h,u=(r("3a9e"),r("2877")),f=Object(u["a"])(d,l,c,!1,null,"5520117e",null),v=f.exports,g={components:{LetterButton:v},props:{words:{type:Array,default:function(){return["Pear","Apple","Tomatoe","Blackberry","Strawberry"]}},showPlayAgain:{type:Boolean,default:!0},lang:{type:String,default:"EN",validator:function(t){return-1!==["EN","ES"].indexOf(t)}}},computed:{wordsUpperCased:function(){return this.words.map(function(t){return t.toUpperCase()})},winMessage:function(){var t;switch(this.lang){case"ES":t="Ganaste!";break;default:t="You win!";break}return t},loseMessage:function(){var t;switch(this.lang){case"ES":t="Perdiste!";break;default:t="You lost!";break}return t}},filters:{capitalize:function(t){return t.toUpperCase()}},data:function(){return{letters:[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],currentWord:"",wordDivs:[],guesses:0,gameOver:!1,lose:!1,twoPlayers:!1,canvas:"",ctx:""}},methods:{randomInteger:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},drawGallows:function(t){t.clearRect(0,0,this.canvas.width,this.canvas.height),t.fillStyle="#FF9800",t.strokeStyle="#FF9800",t.beginPath(),t.moveTo(this.canvas.width/10,this.canvas.height/10),t.lineTo(this.canvas.width/10,.95*this.canvas.height),t.lineTo(.8*this.canvas.width,.95*this.canvas.height),t.moveTo(this.canvas.width/10,this.canvas.height/10),t.lineTo(.4*this.canvas.width,this.canvas.height/10),t.lineTo(.4*this.canvas.width,this.canvas.height/5),t.stroke(),t.closePath()},makeBlanks:function(){for(var t=0;t<this.currentWord.length;t++)this.wordDivs.push("")},updateCanvas:function(t){if(0===this.guesses)t.beginPath(),t.arc(.4*this.canvas.width,this.canvas.height/5+20,20,0,2*Math.PI),t.stroke(),t.closePath();else if(1===this.guesses)t.beginPath(),t.moveTo(.4*this.canvas.width,this.canvas.height/5+40),t.lineTo(.4*this.canvas.width,this.canvas.height/2),t.stroke(),t.closePath();else if(2===this.guesses)t.beginPath(),t.moveTo(.4*this.canvas.width,this.canvas.height/2),t.lineTo(.4*this.canvas.width+30,.7*this.canvas.height),t.stroke(),t.closePath();else if(3===this.guesses)t.beginPath(),t.moveTo(.4*this.canvas.width,this.canvas.height/2),t.lineTo(.4*this.canvas.width-30,.7*this.canvas.height),t.stroke(),t.closePath();else if(4===this.guesses)t.beginPath(),t.moveTo(.4*this.canvas.width,this.canvas.height/5+55),t.lineTo(.4*this.canvas.width+35,this.canvas.height/2+10),t.stroke(),t.closePath();else if(5===this.guesses){t.beginPath(),t.moveTo(.4*this.canvas.width,this.canvas.height/5+55),t.lineTo(.4*this.canvas.width-35,this.canvas.height/2+10),t.stroke(),t.closePath(),t.font="24px Roboto, sans-serif",t.fillText(this.loseMessage,.4*this.canvas.width-30,.9*this.canvas.height),this.gameOver=!0,this.lose=!0,this.$emit("gameFinished",this.currentWord,this.lose);for(var e=0;e<this.currentWord.length;e++)this.$set(this.wordDivs,e,this.currentWord[e])}this.guesses++},check:function(t){if(!this.gameOver){for(var e=!1,r=0;r<this.currentWord.length;r++)t==this.currentWord[r]&&(this.$set(this.wordDivs,r,t),e=!0);this.wordDivs.some(function(t){return""==t})||(this.gameOver=!0,this.ctx.font="24px Roboto, sans-serif",this.ctx.fillText(this.winMessage,.4*this.canvas.width-30,.9*this.canvas.height),this.$emit("gameFinished",this.currentWord,this.lose)),e||this.updateCanvas(this.ctx)}},restart:function(){this.gameOver=!1,this.lose=!1,this.guesses=0,this.wordDivs.splice(0),this.drawGallows(this.ctx),this.makeBlanks()},playAgain:function(){this.currentWord=this.getRandomWord(),this.restart()},getRandomWord:function(){return this.wordsUpperCased[this.randomInteger(0,this.wordsUpperCased.length-1)]}},mounted:function(){this.canvas=document.getElementById("board-canvas"),this.canvas.width=document.getElementById("board").offsetWidth,this.canvas.height=document.getElementById("board").offsetHeight,this.ctx=this.canvas.getContext("2d"),this.ctx.lineWidth=2,this.drawGallows(this.ctx),this.currentWord=this.getRandomWord(),this.makeBlanks()}},w=g,p=(r("8499"),Object(u["a"])(w,a,o,!1,null,"b9783970",null)),m=p.exports,b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"crossword-container",staticClass:"crossword-container"},[t.showPlayAgain?r("b-row",{attrs:{"align-h":"center"}},[r("b-button",{staticClass:"m-3",attrs:{size:"sm"},on:{click:t.playAgain}},[t._v("\n      Play Again\n    ")])],1):t._e(),t.grid?r("div",{staticClass:"crossword-board-container"},[r("b-row",[r("b-col",{class:[t.smallContainer?"col-12":"col-7"]},[r("div",{staticClass:"crossword-board"},[t._l(t.grid,function(e,n){return[t._l(e,function(e,s){return[e?r("input",{directives:[{name:"model",rawName:"v-model",value:t.form[n][s],expression:"form[index1][index2]"}],key:"row-"+n+"-"+s,staticClass:"crossword-board__item",class:{"crossword-board__item--valid":t.equalsLetters(t.form[n][s],e.char)},attrs:{id:t.index(n,s),type:"text",minlength:"1",maxlength:"1",pattern:t.pattern(e.char),required:"required"},domProps:{value:t.form[n][s]},on:{input:function(e){e.target.composing||t.$set(t.form[n],s,e.target.value)}}}):r("span",{key:"row-"+n+"-"+s,staticClass:"crossword-board__item--blank",attrs:{id:t.index(n,s)}})]})]})],2)]),r("b-col",{class:[t.smallContainer?["col-12","px-5","my-5"]:"col-4"]},[r("div",{staticClass:"crossword-clues"},[t.across.length>0?r("dl",{staticClass:"crossword-clues__list crossword-clues__list--across"},[r("dt",{staticClass:"crossword-clues__list-title"},[t._v(t._s(this.across))]),t._l(t.acrossWords,function(e,n){return r("dd",{key:"across-"+e.word+"-"+n,staticClass:"crossword-clues__list-item"},[r("span",{staticClass:"hightlighted"},[t._v(t._s(n+1)+". "+t._s(e.clue)+" ("+t._s(e.word)+")")])])})],2):t._e(),t.down.length>0?r("dl",{staticClass:"crossword-clues__list crossword-clues__list--down"},[r("dt",{staticClass:"crossword-clues__list-title"},[t._v(t._s(this.down))]),t._l(t.downWords,function(e,n){return r("dd",{key:"down-"+e.word+"-"+n,staticClass:"crossword-clues__list-item"},[r("span",{staticClass:"hightlighted"},[t._v(t._s(n+1)+". "+t._s(e.clue)+" ("+t._s(e.word)+")")])])})],2):t._e()])])],1)],1):t._e()],1)},_=[],y=(r("ac6a"),r("6c7b"),r("75fc"));r("55dd");function k(t){this.char=t,this.across=null,this.down=null}function x(t,e){this.is_start_of_word=t,this.index=e}function C(t,e){this.word=t,this.index=e}function W(t,e){var r,n=50,s=50,i={};this.getSquareGrid=function(t){for(var e=null,r=0,n=0;n<t;n++){var s=this.getGrid(1);if(null!=s){var i=1*Math.min(s.length,s[0].length)/Math.max(s.length,s[0].length);if(i>r&&(e=s,r=i),1==r)break}}return e},this.getGrid=function(t){for(var e=0;e<t;e++){f();var n=d(),s=Math.floor(v.length/2),i=Math.floor(v[0].length/2),o=w[0];if("across"==n?i-=Math.floor(o.word.length/2):s-=Math.floor(o.word.length/2),!1===h(o.word,s,i,n))return r=[o],null;l(o.word,o.index,s,i,n);var c=[],g=void 0;c.push(w.slice(1));for(var p=0;p<c.length;p++){g=!1;for(var m=0;m<c[p].length;m++){o=c[p][m];var b=u(o.word);if(b){s=b["row"],i=b["col"];var _=b["direction"];l(o.word,o.index,s,i,_),g=!0}else c.length-1==p&&c.push([]),c[p+1].push(o)}if(!g)break}if(g)return a()}return r=c[c.length-1],null},this.getBadWords=function(){return r},this.getLegend=function(r){for(var n={across:[],down:[]},s=1,i=0;i<r.length;i++)for(var a=0;a<r[i].length;a++){var o=r[i][a],l=!1;for(var c in n)if(o&&o[c]&&o[c]["is_start_of_word"]){var h=o[c]["index"];n[c].push({position:s,index:h,clue:e[h],word:t[h]}),l=!0}l&&s++}return n};var a=function(){for(var t=n-1,e=0,r=s-1,i=0,a=0;a<n;a++)for(var o=0;o<s;o++){var l=v[a][o];null!=l&&(a<t&&(t=a),a>e&&(e=a),o<r&&(r=o),o>i&&(i=o))}for(var c=e-t+1,h=i-r+1,d=new Array(c),u=0;u<c;u++)for(var f=0;f<h;f++)d[u]=new Array(h);for(var g=t,w=0;w<c;g++,w++)for(var p=r,m=0;m<h;p++,m++)d[w][m]=v[g][p];return d},o=function(t,e,r,n,s,a){var o=t.charAt(r);null==v[n][s]&&(v[n][s]=new k(o),i[o]||(i[o]=[]),i[o].push({row:n,col:s}));var l=0==r;v[n][s][a]=new x(l,e)},l=function(t,e,r,n,s){if("across"==s)for(var i=n,a=0;i<n+t.length;i++,a++)o(t,e,a,r,i,s);else{if("down"!=s)throw"Invalid Direction";for(var l=r,c=0;l<r+t.length;l++,c++)o(t,e,c,l,n,s)}},c=function(t,e,r){return null==v[e][r]?0:v[e][r]["char"]==t&&1},h=function(t,e,r,n){if(e<0||e>=v.length||r<0||r>=v[e].length)return!1;var s;if("across"==n){if(r+t.length>v[e].length)return!1;if(r-1>=0&&null!=v[e][r-1])return!1;if(r+t.length<v[e].length&&null!=v[e][r+t.length])return!1;for(var i=e-1,a=r,o=0;i>=0&&a<r+t.length;a++,o++){var l=null==v[i][a],h=null!=v[e][a]&&v[e][a]["char"]==t.charAt(o),d=l||h;if(!d)return!1}for(var u=e+1,f=r,g=0;u<v.length&&f<r+t.length;f++,g++){var w=null==v[u][f],p=null!=v[e][f]&&v[e][f]["char"]==t.charAt(g),m=w||p;if(!m)return!1}s=0;for(var b=r,_=0;b<r+t.length;b++,_++){var y=c(t.charAt(_),e,b);if(!1===y)return!1;s+=y}}else{if("down"!=n)throw"Invalid Direction";if(e+t.length>v.length)return!1;if(e-1>=0&&null!=v[e-1][r])return!1;if(e+t.length<v.length&&null!=v[e+t.length][r])return!1;for(var k=r-1,x=e,C=0;k>=0&&x<e+t.length;x++,C++){var W=null==v[x][k],P=null!=v[x][r]&&v[x][r]["char"]==t.charAt(C),A=W||P;if(!A)return!1}for(var T=r+1,E=e,M=0;E<e+t.length&&T<v[E].length;E++,M++){var O=null==v[E][T],S=null!=v[E][r]&&v[E][r]["char"]==t.charAt(M),G=O||S;if(!G)return!1}s=0;for(var $=e,j=0;$<e+t.length;$++,j++){var D=c(t.charAt(j,1),$,r);if(!1===D)return!1;s+=D}}return s},d=function(){return Math.floor(2*Math.random())?"across":"down"},u=function(t){for(var e=[],r=0;r<t.length;r++){var n=i[t.charAt(r)];if(n)for(var s=0;s<n.length;s++){var a=n[s],o=a["row"],l=a["col"],c=h(t,o,l-r,"across"),d=h(t,o-r,l,"down");!1!==c&&e.push({intersections:c,row:o,col:l-r,direction:"across"}),!1!==d&&e.push({intersections:d,row:o-r,col:l,direction:"down"})}}if(0==e.length)return!1;var u=e[Math.floor(Math.random()*e.length)];return u},f=function(){for(var t=0;t<v.length;t++)for(var e=0;e<v[t].length;e++)v[t][e]=null;i={}};if(t.length<2)throw"A crossword must have at least 2 words";if(t.length!=e.length)throw"The number of words must equal the number of clues";for(var v=new Array(n),g=0;g<n;g++)v[g]=new Array(s);for(var w=[],p=0;p<t.length;p++)w.push(new C(t[p],p));w.sort(function(t,e){return e.word.length-t.word.length})}var P={props:{wordsWithReflexions:{type:Array,default:function(){return[{word:"Coffee",description:"Many people drink it in the morning with milk or cream."},{word:"Tea",description:"British people drink it at 5 o' clock."},{word:"Peach",description:"Juicy, round fruit with a stone-like seed."},{word:"Grape",description:"You make wine from this fruit."},{word:"Primero",description:"Que ocupa el lugar número uno en una serie ordenada. Dicho de una persona o de una cosa: Que precede a las demás de su especie en orden, tiempo, lugar, situación, clase o jerarquía."},{word:"Lemon",description:"You make lemonade from this fruit."},{word:"Cake",description:"You serve it at birthday parties."},{word:"Fish",description:"You can find them in an aquarium."},{word:"Egg",description:"Hens lay it."},{word:"Pork",description:"Meat from a pig."},{word:"Apple",description:"Eve gave one to Adam."},{word:"Chicken",description:"An animal which lays eggs"},{word:"Goat",description:"Used for milk and cheese"},{word:"Horse",description:"Found in races"},{word:"Kitten",description:"A baby cat"},{word:"Snake",description:"An animal with no feet"},{word:"Cat",description:"A popular house pet"},{word:"Cow",description:"Relative of a bull"}]}},lang:{type:String,default:"EN",validator:function(t){return-1!==["EN","ES"].indexOf(t)}},showPlayAgain:{type:Boolean,default:!0}},data:function(){return{selectedWords:[],acrossWords:[],downWords:[],matrix:null,grid:null,form:null,smallContainer:!1}},computed:{words:function(){return this.selectedWords.map(function(t){return t.word})},clues:function(){return this.selectedWords.map(function(t){return t.description})},across:function(){var t;switch(this.lang){case"ES":t="Horizontales";break;default:t="Across";break}return t},down:function(){var t;switch(this.lang){case"ES":t="Verticales";break;default:t="Down";break}return t}},methods:{index:function(t,e){var r="item".concat(t+1,"-").concat(e+1);return r},pattern:function(t){var e="^[".concat(t.toLowerCase()).concat(t.toUpperCase(),"]{1}$");return e},equalsLetters:function(t,e){return t.toUpperCase()===e.toUpperCase()||t.toLowerCase()===e.toLowerCase()},setRandomWords:function(){var t=[];while(t.length<8){var e=this.wordsWithReflexions[Math.floor(Math.random()*this.wordsWithReflexions.length)];t.indexOf(e)<0&&t.push(e)}this.selectedWords=t},generateGrid:function(){var t,e=13;while(!t||t.length>e){this.setRandomWords();var r=new W(this.words,this.clues),n=10;t=r.getSquareGrid(n)}if(this.grid=t,this.form=Object(y["a"])(Array(e)).map(function(){return Array(e).fill("")}),this.grid.length<e){while(this.grid.length<e)this.grid.push([]);this.grid.forEach(function(t){while(t.length<e)t.push(null)});var s=r.getLegend(this.grid);this.acrossWords=s.across,this.downWords=s.down}},playAgain:function(){this.generateGrid()},getWindowWidth:function(){this.$refs["crossword-container"].parentElement.parentElement.clientWidth<1200&&(this.smallContainer=!0)}},mounted:function(){this.generateGrid(),this.$nextTick(function(){window.addEventListener("resize",this.getWindowWidth),this.getWindowWidth()})},beforeDestroy:function(){window.removeEventListener("resize",this.getWindowWidth)}},A=P,T=(r("8bcd"),Object(u["a"])(A,b,_,!1,null,null,null)),E=T.exports,M={name:"app",components:{HangmanGame:m,CrosswordGame:E}},O=M,S=(r("034f"),Object(u["a"])(O,s,i,!1,null,null,null)),G=S.exports,$=r("9f7b"),j=r.n($);r("f9e3"),r("2dd8");n["default"].use(j.a),n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(G)}}).$mount("#app")},"64a9":function(t,e,r){},7739:function(t,e,r){},8499:function(t,e,r){"use strict";var n=r("efe9"),s=r.n(n);s.a},"8bcd":function(t,e,r){"use strict";var n=r("7739"),s=r.n(n);s.a},a8ec:function(t,e,r){},efe9:function(t,e,r){}});
//# sourceMappingURL=app.23b08cb9.js.map